
//////////////////////////////////////////////////////////////////

///////////////////TABLA DE CANTIDADES POR EDAD ///////////////////////////////////////////////

bra45a50M = [ "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30"];
bra51a55M = [ "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28"];

bra45a50F = [ "1", "2", "3", "4", "5", "6", "7", "8", "9", "10" ];
bra51a55F = [ "1", "2", "3", "4", "5", "6", "7", "8"];


abd45a50M = [ "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46"];
abd51a55M = [ "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44" ];


abd45a50F = [ "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36"];
abd51a55F = [ "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34"];


carr45a50M = [  "12.45",   "12.55",    "12.55",    "13.05",    "13.15",    "13.25",    "13.25",    "13.35",    "13.45",    "13.55",    "14.05",    "14.15",    "14.25",    "14.25",    "14.35",    "14.45",    "14.45",    "14.55",    "15.05",    "15.15",    "15.15",    "15.25",    "15.35",    "15.35",    "15.45",    "15.55",    "16.05",    "16.15",    "16.25",    "16.35",    "16.45",    "16.55",    "17.05",    "17.15",    "17.25",    "17.35",    "17.45",    "17.55",    "18.05",    "18.15",    "18.25",    "18.35",    "18.45",    "18.55",    "19.05",    "19.15",    "19.25",    "19.35",    "19.45",    "19.55",    "20.05"];
carr51a55M = [ "14.15",    "14.25",    "14.25",    "14.35",    "14.45",    "14.55",    "14.55",    "15.05",    "15.15",    "15.25",    "15.35",    "15.45",    "15.55",    "15.55",    "16.05",    "16.15",    "16.25",    "16.35",    "16.45",    "16.45",    "16.55",    "16.55",    "17.05",    "17.05",    "17.15",    "17.25",    "17.35",    "17.45",    "17.55",    "18.05",    "18.15",    "18.25",    "18.35",    "18.45",    "18.55",    "19.05",    "19.15",    "19.25",    "19.35",    "19.45",    "19.55",    "20.05",    "20.15",    "20.25",    "20.35",    "20.45",    "20.55",    "21.05",    "21.15",    "21.25",    "21.35"];


carr45a50F = [ "14.45",   "14.45",    "14.55",    "15.05",    "15.15",    "15.25",    "15.25",    "15.35",    "15.35",    "15.45",    "15.55",    "16.05",    "16.15",    "16.25",    "16.35",    "16.45",    "16.55",    "17.05",    "17.15",    "17.25",    "17.35",    "17.45",    "17.55",    "18.05",    "18.15",    "18.25",    "18.35",    "18.45",    "18.55",    "19.05",    "19.15",    "19.25",    "19.35",    "19.45",    "19.55",    "20.05",    "20.15",    "20.25",    "20.35",    "20.45",    "20.55",    "21.05",    "21.15",    "21.25",    "21.35",    "21.45",    "21.55",    "22.05",    "22.15",    "22.25",    "22.35"];
carr51a55F = [  "16.15",  "16.15",    "16.25",    "16.35",    "16.45",    "16.55",    "16.55",    "17.05",    "17.05",    "17.15",    "17.25",    "17.35",    "17.45",    "17.55",    "18.05",    "18.15",    "18.25",    "18.35",    "18.45",    "18.55",    "19.05",    "19.15",    "19.25",    "19.35",    "19.45",    "19.55",    "20.05",    "20.15",    "20.25",    "20.35",    "20.45",    "20.55",    "21.05",    "21.15",    "21.25",    "21.35",    "21.45",    "21.55",    "22.05",    "22.15",    "22.25",    "22.35",    "22.45",    "22.55",    "23.05",    "23.15",    "23.25",    "23.35",    "23.45",    "23.55",    "24.05"];

        
        
//////////////////////////////////////////////////////////////////



////DE 45 A 50 AÑOS
vbrazos45a50M = {   "30": "100", "29": "96", "28": "92", "27": "86", "26": "84", "25": "82", "24": "80", "23": "78", "22": "76", "21": "74", "20": "72", "19": "70", "18": "68", "17": "66", "16": "64", "15": "62", "14": "60", "13": "58", "12": "56", "11": "54", "10": "52", "9": "50", "8": "44", "7": "38", "6": "32", "5": "24", "4": "20", "3": "16", "2": "12", "1": "8", "0": "0" };

vbrazos45a50F = {  "10": "100", "9": "96", "8": "92", "7": "90", "6": "84", "5": "78",  "4": "72", "3": "62", "2": "52", "1": "50", "0": "0"};

vabdominal45a50M = {  "46": "100", "45": "98", "44": "96", "43": "94", "42": "92", "41": "90",  "40": "88", "39": "86", "38": "84", "37": "82", "36": "80", "35": "78",
  "34": "76", "33": "74", "32": "72", "31": "70", "30": "68", "29": "66",
  "28": "64", "27": "62", "26": "60", "25": "58", "24": "56", "23": "54",
  "22": "52", "21": "50", "20": "48", "19": "46", "18": "44", "17": "42",
  "16": "40", "15": "38", "14": "36", "13": "34", "12": "32", "11": "30",
  "10": "28", "9": "26", "8": "24", "7": "22", "6": "16", "5": "12",
  "4": "8", "3": "4", "2": "2", "1": "0", "0": "0"
};

vabdominal45a50F =  {
  "36": "100", "35": "98", "34": "96", "33": "94", "32": "92", "31": "90",
  "30": "88", "29": "86", "28": "84", "27": "82", "26": "80", "25": "78",
  "24": "76", "23": "74", "22": "72", "21": "70", "20": "68", "19": "66",
  "18": "64", "17": "62", "16": "60", "15": "58", "14": "56", "13": "54",
  "12": "52", "11": "50", "10": "46", "9": "42", "8": "38", "7": "34",
  "6": "30", "5": "26", "4": "20", "3": "18", "2": "14", "1": "12", "0": "8"
};


//vabdominal45a50 =  {"60": "100" ,  "59": "100" ,  "58": "100" ,  "57": "100" ,  "56": "100" ,  "55": "100" ,  "54": "100" ,  "53": "100" ,  "52": "100" ,  "51": "100" ,  "50": "100" ,  "49": "100" ,  "48": "100" ,  "47": "100" ,  "46":"100",   "45":"98",    "44":"96",    "43":"94",    "42":"92",    "41":"90",    "40":"88",    "39":"86",    "38":"84",    "37":"82",    "36":"80",    "35":"78",    "34":"76",    "33":"74",    "32":"72",    "31":"70",    "30":"68",    "29":"66",    "28":"64",    "27":"62",    "26":"60",    "25":"58",    "24":"56",    "23":"54",    "22":"52",    "21":"50",    "20":"48",    "19":"46",    "18":"44",    "17":"42",    "16":"40",    "15":"38",    "14":"36",    "13":"34",    "12":"32",    "11":"30",    "10":"28",    "9":"26", "8":"24", "7":"20","6":"16", "5":"14", "4":"10",  "3":"6",  "2":"4",  "1":"2",  "0": "0" }

v240045a50M = {"12.45":"100", "12.55":"96", "13.05":"94", "13.15":"92", "13.25":"90","13.35":"86", "13.45":"84", "13.55":"82", "14.05":"80", "14.15":"78","14.25":"74", "14.35":"72", "14.45":"68", "14.55":"66", "15.05":"64", "15.15":"60", "15.25":"58", "15.35":"54", "15.45":"52", "15.55":"50", "16.05":"48", "16.15":"46", "16.25":"44", "16.35":"42", "16.45":"40", "16.55":"38", "17.05":"36", "17.15":"34", "17.25":"32", "17.35":"30", "17.45":"28", "17.55":"26", "18.05":"24", "18.15":"22", "18.25":"20", "18.35":"18", "18.45":"16", "18.55":"14", "19.05":"12", "19.15":"10", "19.25":"8",  "19.35":"6",  "19.45":"4",  "19.55":"2",  "20.05":"0"};



////DE 51 A 55 AÑOS
vbrazos51a55M= {
  "28": "100", "27": "96", "26": "92", "25": "86", "24": "84", "23": "82",  "22": "80", "21": "78", "20": "76", "19": "74", "18": "72", "17": "70",  "16": "68", "15": "66", "14": "64", "13": "62", "12": "60", "11": "58","10": "56", "9": "54", "8": "52", "7": "50", "6": "44", "5": "38","4": "32", "3": "24", "2": "16", "1": "12", "0": "0"
};


vbrazos51a55F = {   "8": "100", "7": "92", "6": "84", "5": "78",  "4": "72", "3": "70", "2": "62", "1": "52", "0": "0"}


vabdominal51a55M = {
  "44": "100", "43": "98", "42": "96", "41": "94", "40": "92", "39": "90",
  "38": "88", "37": "86", "36": "84", "35": "82", "34": "80", "33": "78",
  "32": "76", "31": "74", "30": "72", "29": "70", "28": "68", "27": "66",
  "26": "64", "25": "62", "24": "60", "23": "58", "22": "56", "21": "54",
  "20": "52", "19": "50", "18": "48", "17": "46", "16": "44", "15": "42",
  "14": "40", "13": "38", "12": "36", "11": "34", "10": "32", "9": "30",
  "8": "28", "7": "24", "6": "20", "5": "18", "4": "16", "3": "12",
  "2": "8", "1": "4", "0": "0"
};

vabdominal51a55F =  {
  "34": "100", "33": "98", "32": "96", "31": "94", "30": "92", "29": "90",
  "28": "88", "27": "86", "26": "84", "25": "82", "24": "80", "23": "78",
  "22": "76", "21": "74", "20": "72", "19": "70", "18": "68", "17": "66",
  "16": "64", "15": "62", "14": "60", "13": "58", "12": "56", "11": "54",
  "10": "52", "9": "50", "8": "42", "7": "38", "6": "30", "5": "26",
  "4": "20", "3": "14", "2": "8", "1": "6", "0": "0"
};


v240051a55M = {"14.15":"100", "14.25":"96", "14.35":"94", "14.45":"92", "14.55":"88", "15.05":"86", "15.15":"84", "15.25":"82", "15.35":"80", "15.45":"78", "15.55":"76", "16.05":"72", "16.15":"70", "16.25":"68", "16.35":"66", "16.45":"64", "16.55":"58", "17.05":"56", "17.15":"52", "17.25":"50", "17.35":"48", "17.45":"46", "17.55":"44", "18.05":"42", "18.15":"40", "18.25":"38", "18.35":"36", "18.45":"34", "18.55":"32", "19.05":"30", "19.15":"28", "19.25":"26", "19.35":"24", "19.45":"22", "19.55":"20", "20.05":"18", "20.15":"16", "20.25":"14", "20.35":"12", "20.45":"10", "20.55":"8",  "21.05":"6",  "21.15":"4",  "21.25":"2",  "21.35":"0"};

/////2400 MUJERES

v240045a50F = {"14.45":"100", "14.55":"96", "15.05":"94", "15.15":"92","15.25":"88","15.35":"84", "15.45":"82", "15.55":"80", "16.05":"78", "16.15":"76", "16.25":"74", "16.35":"72", "16.45":"70", "16.55":"68", "17.05":"66", "17.15":"64", "17.25":"62", "17.35":"60", "17.45":"58", "17.55":"56", "18.05":"54", "18.15":"52", "18.25":"50", "18.35":"48", "18.45":"46", "18.55":"44", "19.05":"42", "19.15":"40", "19.25":"38", "19.35":"36", "19.45":"34", "19.55":"32", "20.05":"30", "20.15":"28", "20.25":"26", "20.35":"24", "20.45":"22", "20.55":"20", "21.05":"18", "21.15":"16", "21.25":"14", "21.35":"12", "21.45":"10", "21.55":"8",  "22.05":"6",  "22.15":"4",  "22.25":"2",  "22.35":"0" };
v240051a55F =  {"16.15":"100", "16.25":"96", "16.35":"94", "16.45":"92", "16.55":"88",  "17.05":"84", "17.15":"82", "17.25":"80", "17.35":"78", "17.45":"76", "17.55":"74", "18.05":"72", "18.15":"70", "18.25":"68", "18.35":"66", "18.45":"64", "18.55":"62", "19.05":"60", "19.15":"58", "19.25":"56", "19.35":"54", "19.45":"52", "19.55":"50", "20.05":"48", "20.15":"46", "20.25":"44", "20.35":"42", "20.45":"40", "20.55":"38", "21.05":"36", "21.15":"34", "21.25":"32", "21.35":"30", "21.45":"28", "21.55":"26", "22.05":"24", "22.15":"22", "22.25":"20", "22.35":"18", "22.45":"16", "22.55":"14", "23.05":"12", "23.15":"10", "23.25":"8",  "23.35":"6",  "23.45":"4",  "23.55":"2",  "24.05":"0"}; 


// Variables globales
let genero = '';
let cmbedad = 0;

// Cargar select de edad
const selectEdad = document.getElementById('edad');
for (let i = 45; i <= 55; i++) {
  const option = document.createElement('option');
  option.value = i;
  option.text = i;
  selectEdad.appendChild(option);
}

// Función para actualizar selects según edad y género
function edad() {
  genero = document.getElementById("genero").value;
  cmbedad = parseInt(document.getElementById('edad').value);
  if (isNaN(cmbedad)) return;
  if (genero === "") { alert("Seleccione un género"); return; }

  let selectBrazos = document.getElementById('selectbrazos');     
  let selectabd = document.getElementById('selectabd'); 
  let selectTiempo = document.getElementById("tiempo");

  // Limpiar selects
  [selectBrazos, selectabd, selectTiempo].forEach(sel => {
    while (sel.options.length > 1) sel.remove(1);
  });

  // Seleccionar arrays según edad y género
  let bra, abdArray, carrArray;
  if (cmbedad >= 45 && cmbedad <= 50 && genero == "Masculino") { bra=bra45a50M; abdArray=abd45a50M; carrArray=carr45a50M; }
  else if (cmbedad >= 51 && cmbedad <= 55 && genero == "Masculino") { bra=bra51a55M; abdArray=abd51a55M; carrArray=carr51a55M; }
  else if (cmbedad >= 45 && cmbedad <= 50 && genero == "Femenino") { bra=bra45a50F; abdArray=abd45a50F; carrArray=carr45a50F; }
  else if (cmbedad >= 51 && cmbedad <= 55 && genero == "Femenino") { bra=bra51a55F; abdArray=abd51a55F; carrArray=carr51a55F; }

  // Llenar selects
  bra.forEach(item => { let o = document.createElement("option"); o.text = item; o.value = item; selectBrazos.add(o); });
  abdArray.forEach(item => { let o = document.createElement("option"); o.text = item; o.value = item; selectabd.add(o); });
  carrArray.forEach(item => { let o = document.createElement("option"); o.text = item; o.value = item; selectTiempo.add(o); });

  // Limpiar campos de puntaje
  document.getElementById('ptsbrazos').value = '';
  document.getElementById("ptsabd").value = '';
  document.getElementById("ptoscarrera").value = '';
}

// Puntaje de brazos
function brazos(){
  let ptosbrazos = document.getElementById("selectbrazos").value;
  if (cmbedad >=45 && cmbedad <=50 && genero=="Masculino") document.getElementById("ptsbrazos").value = vbrazos45a50M[ptosbrazos];
  else if (cmbedad >=51 && cmbedad <=55 && genero=="Masculino") document.getElementById("ptsbrazos").value = vbrazos51a55M[ptosbrazos];
  else if (cmbedad >=45 && cmbedad <=50 && genero=="Femenino") document.getElementById("ptsbrazos").value = vbrazos45a50F[ptosbrazos];
  else if (cmbedad >=51 && cmbedad <=55 && genero=="Femenino") document.getElementById("ptsbrazos").value = vbrazos51a55F[ptosbrazos];
}

// Puntaje abdominal
function abd(){
  let ptosabd = document.getElementById("selectabd").value;
  if (cmbedad >=45 && cmbedad <=50 && genero=="Masculino") document.getElementById("ptsabd").value = vabdominal45a50M[ptosabd];
  else if (cmbedad >=51 && cmbedad <=55 && genero=="Masculino") document.getElementById("ptsabd").value = vabdominal51a55M[ptosabd];
  else if (cmbedad >=45 && cmbedad <=50 && genero=="Femenino") document.getElementById("ptsabd").value = vabdominal45a50F[ptosabd];
  else if (cmbedad >=51 && cmbedad <=55 && genero=="Femenino") document.getElementById("ptsabd").value = vabdominal51a55F[ptosabd];
}

// Puntaje carrera
function carrera(){
  let ptoscarrera = document.getElementById("tiempo").value;
  if (cmbedad >=45 && cmbedad <=50 && genero == 'Masculino') document.getElementById("ptoscarrera").value = v240045a50M[ptoscarrera];
  else if (cmbedad >=45 && cmbedad <=50 && genero == 'Femenino') document.getElementById("ptoscarrera").value = v240045a50F[ptoscarrera];
  else if (cmbedad >=51 && cmbedad <=55 && genero == 'Masculino') document.getElementById("ptoscarrera").value = v240051a55M[ptoscarrera];
  else if (cmbedad >=51 && cmbedad <=55 && genero == 'Femenino') document.getElementById("ptoscarrera").value = v240051a55F[ptoscarrera];
}

// Cambio de color por género
function generocolor(){
  genero = document.getElementById('genero').value;
  if (genero == 'Masculino') document.body.style.background = "lightskyblue";
  else if (genero == 'Femenino') document.body.style.background = "blanchedalmond";
  else document.body.style.background = "white";
  edad();
}


function calcular() {
  // Tomamos valores
  let ptsbrazos = parseInt(document.getElementById("ptsbrazos").value) || 0;
  let ptsabd = parseInt(document.getElementById("ptsabd").value) || 0;
  let ptscarrera = parseInt(document.getElementById("ptoscarrera").value) || 0;

  // Función para pintar inputs
  function pintarInput(id, valor) {
    let input = document.getElementById(id);
    if (valor < 52) {
      input.style.backgroundColor = "rgba(255,0,0,0.2)"; // rojo suave
    } else {
      input.style.backgroundColor = "rgba(0,255,0,0.2)"; // verde suave
    }
  }

  // Aplicamos a cada uno
  pintarInput("ptsbrazos", ptsbrazos);
  pintarInput("ptsabd", ptsabd);
  pintarInput("ptoscarrera", ptscarrera);

  // Calculo promedio
  let Afgt = ((ptsbrazos + ptsabd + ptscarrera) / 3).toFixed(0);

  // Verificamos cuántos son < 52
  let desaprobados = 0;
  if (ptsbrazos < 52) desaprobados++;
  if (ptsabd < 52) desaprobados++;
  if (ptoscarrera < 52) desaprobados++;

  // Mostramos en div
  let resultadoDiv = document.getElementById("resultado");

  if (desaprobados >= 2 || Afgt <= 51) {
    resultadoDiv.innerText = "DESAPROBADO - AFGT: " + Afgt;
    resultadoDiv.style.backgroundColor = "rgba(255,0,0,0.2)";
    resultadoDiv.style.color = "red";
  } else {
    resultadoDiv.innerText = "APROBADO - AFGT: " + Afgt;
    resultadoDiv.style.backgroundColor = "rgba(0,255,0,0.2)";
    resultadoDiv.style.color = "green";
  }

  resultadoDiv.style.padding = "10px";
  resultadoDiv.style.fontWeight = "bold";
  resultadoDiv.style.borderRadius = "8px";
}


function limpiar() {
  // IDs de los inputs
  let ids = ["ptsbrazos", "ptsabd", "ptoscarrera","edad", "genero","selectbrazos", "selectabd", "tiempo"];

  // Recorremos cada input y lo reseteamos
  ids.forEach(id => {
    let input = document.getElementById(id);
    input.value = "";                        // limpiar valor
    input.style.backgroundColor = "white";   // resetear color
  });

  // Limpiar resultado
  let resultadoDiv = document.getElementById("resultado");
  resultadoDiv.innerText = "";
  resultadoDiv.style.backgroundColor = "transparent";
  resultadoDiv.style.color = "black";
}

